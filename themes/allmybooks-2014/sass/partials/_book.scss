/*------------------------------------*\
    #BOOK
\*------------------------------------*/
.book {
  background: white;
  margin: gutter() 0 0;
  color: $color-tertiary;
  font-family: $font-text;
  position: relative;
  line-height: 1.25em;
  box-shadow: $drop-shadow;
  padding: .5rem;
  
  h1 {
    background: $color-secondary;
    padding: gutter();
    color: $color-tertiary;
    box-shadow: $drop-shadow;
    font-family: $font-fancy;
    line-height: 1em;
    font-size: $font-size-8;
    
    &.ribbons {
      padding: gutter() 6rem gutter() gutter();
    }
  }
  
  &.new-book {
    display: none;
  }
}
.book--options {
  display: none;
  background: $color-tertiary;
  padding: gutter() 0;
  margin: 0 gutter();
  
  a {
    margin: gutter();
    color: white;
    text-decoration: none;
    border: rem(1) solid $color-tertiary;
    padding: 0 gutter();
    font-size: em(15);
  }
  
  .active {
    border-color: white;
  }
}
.book--details {
  padding: gutter();
  
  span {
    display: block;
    margin: 0 0 gutter() 0;
    
    &:last-child {
      margin: 0;
    }
    
    & > * {
      display: inline;
    }
  }
  svg {
    position: relative;
    fill: $color-primary;
    width: 1rem;
    height: 1rem;
    margin: 0 .5em 0 0;
    top: .1em;
  }
}
.book--tags {
  font-size: $font-size-4;
  
  svg {
    top: .25em;
  }
}
.book--links {
  padding: 0 gutter() gutter();
  li {
    display: inline;
  }
}
.book--link {
  display: inline;
  margin: 0 1rem 0 0;
  
  svg {
    position: static;
    width: 1.5rem;
    height: 1.5rem;
    fill: $color-red;
    
    &:hover {
      fill: $color-primary;
    }
  }
}
.collapsed {
  .overflow {
    display: none;
  }
}
.expanded {
  
  .overflow {
    display: block;
    opacity: 0;
  }
  .animate {
    opacity: 1;
    @include animation(0, .25s, 1, popIn);
    @include transition( opacity 0s ease-in-out .05s );
  }
}

@include keyframes(popIn) {
  0% { @include transform( scale(0) ); }
  80% { @include transform( scale(1.1) ); }
  100% { @include transform( scale(1) ); }
}

.ribbon {
  right:0.5em;
  @extend %ribbon-prelim;
  
  .label {
    @extend %ribbon-label;
  }
  div {
    @extend %ribbon-div;
  }

  div:after {
    @extend %ribbon-div-after;
  }
  .month {
    display: block;
    padding: gutter() 0 0;
  }
}
.book--last-date {
  right: 3.5rem;
}
